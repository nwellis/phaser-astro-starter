---
import type { HTMLAttributes } from "astro/types";
import type { Types } from "phaser";

export interface Props extends HTMLAttributes<"div"> {
  config: Types.Core.GameConfig;
}

const { config, ...rest } = Astro.props;
---

<!-- https://docs.astro.build/en/guides/client-side-scripts/#pass-frontmatter-variables-to-scripts -->
<phaser-game game-config={JSON.stringify(config)} {...rest}></phaser-game>

<script>
  import { PhaserGameDivElement } from "./PhaserGameElement";

  window.customElements.define(
    PhaserGameDivElement.HTML_TAG,
    PhaserGameDivElement
  );
</script>
